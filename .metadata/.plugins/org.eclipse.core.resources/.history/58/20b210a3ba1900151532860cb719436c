package com.dudeclothing.admin.service;

import javax.transaction.Transactional;

import org.springframework.beans.factory.annotation.Autowired;

import com.dudeclothing.admin.dataRepo.BrandRepo;
import com.dudeclothing.admin.dataRepo.CurrencyRepo;
import com.dudeclothing.admin.dataRepo.PurchaseRepo;
import com.dudeclothing.admin.dataRepo.StockRepo;
import com.dudeclothing.admin.model.Brand;
import com.dudeclothing.admin.model.Currency;
import com.dudeclothing.admin.model.OrderRecord;
import com.dudeclothing.admin.model.Purchase;

public class TransactionServices {

	@Autowired
	private PurchaseRepo purchaseRepo;
	@Autowired
	private CurrencyRepo currencyRepo;
	@Autowired
	private BrandRepo brandRepo;
	@Autowired
	private StockRepo stockRepo;

	
	
	@Transactional
	public Purchase addPurchase(Purchase purchase, long brandId,long currencyId) {
		Currency currency = currencyRepo.findOne(currencyId);
		Brand brand = brandRepo.findOne(brandId);
		Purchase result = purchaseRepo.saveAndFlush(purchase);
		
		return result;
	}

	@Transactional
	public OrderRecord addOrder(OrderRecord orderRecord) {

		return null;
	}

}
